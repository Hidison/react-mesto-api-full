{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","e","preventDefault","current","value","placeholder","ref","id","autoComplete","required","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","onChange","target","minLength","maxLength","AddPlacePopup","imageName","setImageName","imageLink","setImageLink","ImagePopup","api","url","headers","this","_url","_headers","fetch","method","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","cardId","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","promises","getInitialCards","getPersonInfo","all","resCard","resUser","catch","error","console","log","Provider","removelikeCard","newCard","newCards","c","err","likeCard","delCard","filter","с","editAvatar","result","sendUserInformation","addNewCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.d231d515.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\n  return (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className=\"header__logo\">\r\n\r\n\t\t\t</div>\r\n\t\t</header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\tconst isOwn = props.card.owner._id === currentUser._id;\r\n\r\n\tconst isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\tconst cardLikeButtonClassName = (\r\n\t\t`element__button-like ${isLiked ? 'button-like_active' : ''}`\r\n\t);\r\n\r\n\tfunction handleClick() {\r\n\t\tprops.onCardClick(props.card);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n\t\tprops.onCardLike(props.card);\r\n\t  }\r\n\r\n\t  function handleDeleteClick() {\r\n\t\tprops.onCardDelete(props.card);\r\n\t  }\r\n\r\n\treturn (\r\n\t\t<div className=\"element\">\r\n\t\t\t<img className=\"element__image\" src={props.card.link}  alt={props.card.name} onClick={handleClick} />\r\n\t\t\t<div className=\"element__info\">\r\n\t\t\t\t<h4 className=\"element__title\">{props.card.name}</h4>\r\n\t\t\t\t<div className=\"element__place-like\">\r\n\t\t\t\t\t<button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n\t\t\t\t\t<span className=\"element__like-count\">{props.card.likes.length}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{!isOwn ? null : <button type=\"button\" className=\"element__remove_image\" onClick={handleDeleteClick} />}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\" onClick={onEditAvatar}>\r\n                    <img src={currentUser.avatar} alt=\"портрет человека\" className=\"profile__avatar-icon\" />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"button_add-card\" onClick={onAddPlace}></button>\r\n            </section>\r\n            <section className=\"elements\">\r\n                {cards.map((card) =>\r\n                    <Card\r\n                        card={card}\r\n                        onCardClick={onCardClick}\r\n                        onCardLike={onCardLike}\r\n                        onCardDelete={onCardDelete}\r\n                        key={card._id}\r\n                    />\r\n                )}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n\t\t</footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={(props.isOpen ? `popup popup_opened popup_type_${props.name}` : `popup popup_type_${props.name}`)}>\r\n            <div className={`popup__container popup__container_type_${props.name}`}>\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n                <h3 className=\"popup__title\">{props.title}</h3>\r\n                <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n                    <fieldset className=\"popup__form-set\">\r\n                        {props.children}\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Обновить аватар\"\r\n            name=\"edit-avatar\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" ref={avatarRef} className=\"popup__form-text popup__form-text_type_link\" id='url-input' autoComplete=\"off\" required />\r\n            <span className='popup__form-text-error' id='url-input-error'></span>\r\n            <input type=\"submit\" value=\"Сохранить\" className=\"popup__form-submit popup__form-submit_type_edit-avatar\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Редактировать профиль\"\r\n            name=\"edit-profile\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input type=\"text\" name=\"name\" value={name || ''} onChange={handleChangeName} className=\"popup__form-text popup__form-text_type_name\" id='name-input' minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" required />\r\n            <span className='popup__form-text-error' id='name-input-error'></span>\r\n            <input type=\"text\" name=\"job\" value={description || ''} onChange={handleChangeDescription} className=\"popup__form-text popup__form-text_type_job\" id='job-input' minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" required />\r\n            <span className='popup__form-text-error' id='job-input-error'></span>\r\n            <input type=\"submit\" value=\"Сохранить\" className=\"popup__form-submit\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n\r\n    const [imageName, setImageName] = React.useState('');\r\n    const [imageLink, setImageLink] = React.useState('');\r\n\r\n\r\n    function handleChangeimageName(e) {\r\n        setImageName(e.target.value);\r\n    }\r\n\r\n    function handleChangeimageLink(e) {\r\n        setImageLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onAddPlace({\r\n            imageName,\r\n            imageLink,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Новое место\"\r\n            name=\"add-card\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input type=\"text\" name=\"title\" placeholder=\"Название\" onChange={handleChangeimageName} className=\"popup__form-text popup__form-text_type_title\" id='title-input' minLength=\"1\" maxLength=\"30\" autoComplete=\"off\" required />\r\n            <span className='popup__form-text-error' id='title-input-error'></span>\r\n            <input type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" onChange={handleChangeimageLink} className=\"popup__form-text popup__form-text_type_link\" id='url-input' autoComplete=\"off\" required />\r\n            <span className='popup__form-text-error' id='url-input-error'></span>\r\n            <input type=\"submit\" value=\"Создать\" className=\"popup__form-submit popup__form-submit_type_add-card\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    return (\r\n        <section className={(props.card.isOpen ? `popup popup_opened popup_type_full-image` : `popup popup_type_full-image`)}>\r\n            <div className=\"popup__container popup__container_type_full-image\">\r\n                <img className=\"popup__full-image\" src={props.card.card.link} alt={props.card.card.name} />\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n                <h3 className=\"popup__title popup__title_type_full-image\">{props.card.card.name}</h3>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor({ url, headers }) {\r\n        this._url = url;\r\n        this._headers = headers;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getPersonInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    sendUserInformation(data) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    addNewCard(data) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    delCard(cardId) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    likeCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers,\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    removelikeCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    editAvatar(data) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-15',\r\n    headers: {\r\n        authorization: '71f3852f-9196-47d1-bd3b-fa85f23dbdb4',\r\n        'Content-Type': 'application/json'\r\n    }\r\n}\r\n);\r\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup.js';\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction App() {\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n\tconst [selectedCard, setSelectedCard] = React.useState({ card: {}, isOpen: false });\n\tconst [currentUser, setCurrentUser] = React.useState({});\n\tconst [cards, setCards] = React.useState([]);\n\n\tReact.useEffect(() => {\n\t\tconst promises = [api.getInitialCards(), api.getPersonInfo()]\n\n\t\tPromise.all(promises)\n\t\t\t.then(([resCard, resUser]) => {\n\t\t\t\tsetCurrentUser(resUser);\n\t\t\t\tsetCards(resCard);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t});\n\t}, []);\n\n\n\tfunction handleEditAvatarClick() {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetIsEditProfilePopupOpen(true)\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetIsAddPlacePopupOpen(true)\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetSelectedCard({ card, isOpen: true });\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetSelectedCard({ ...selectedCard, isOpen: false });\n\t}\n\n\tfunction handleUpdateUser(data) {\n\t\tapi.sendUserInformation({ name: data.name, about: data.about }).then((result) => {\n\t\t\tsetCurrentUser(result);\n\t\t\tcloseAllPopups();\n\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tfunction handleUpdateAvatar(data) {\n\t\tapi.editAvatar({ avatar: data.avatar }).then((result) => {\n\t\t\tsetCurrentUser(result);\n\t\t\tcloseAllPopups();\n\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tfunction handleCardLike(card) {\n\t\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\n\n\t\tif (!isLiked) {\n\t\t\tapi.likeCard(card._id, !isLiked).then((newCard) => {\n\t\t\t\tconst newCards = cards.map((c) => c._id === card._id ? newCard : c);\n\t\t\t\tsetCards(newCards)\n\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t})\n\t\t} else {\n\t\t\tapi.removelikeCard(card._id, isLiked).then((newCard) => {\n\t\t\t\tconst newCards = cards.map((c) => c._id === card._id ? newCard : c);\n\t\t\t\tsetCards(newCards)\n\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t})\n\t\t}\n\t}\n\n\tfunction handleCardDelete(card) {\n\t\tapi.delCard(card._id)\n\t\t\t.then(() => {\n\t\t\t\tconst newCards = cards.filter(с => с._id !== card._id)\n\t\t\t\tsetCards(newCards)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tfunction handleAddPlaceSubmit(data) {\n\t\tapi.addNewCard({ name: data.imageName, link: data.imageLink }).then((newCard) => {\n\t\t\tsetCards([...cards, newCard]);\n\t\t\tcloseAllPopups();\n\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"page\">\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Header />\n\t\t\t\t<Main\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\tcards={cards}\n\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t/>\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t/>\n\t\t\t\t<ImagePopup\n\t\t\t\t\tcard={selectedCard}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t/>\n\t\t\t</CurrentUserContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}